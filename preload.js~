const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electronAPI', {
    addPills: () => ipcRenderer.send('addPills'),
    saveFormData: (formData) => ipcRenderer.send('save-form-data', formData),
    onSaveResponse: (callback) => {
        ipcRenderer.removeListener('save-form-data-response', callback);
        ipcRenderer.on('save-form-data-response', (event, message) => callback(message));
    },
    getPills: () => ipcRenderer.send('get-pills'),
    onGetPillsResponse: (callback) => {
        ipcRenderer.removeListener('get-pills-response', callback);
        ipcRenderer.on('get-pills-response', (event, pills) => callback(pills));
    }
});
